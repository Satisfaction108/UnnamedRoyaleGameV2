<!DOCTYPE html>
<html id="htmlRoot" lang="en">
<head id="headRoot">
    <meta id="metaCharset" charset="utf-8">
    <meta id="metaViewport" name="viewport" content="width=device-width, initial-scale=1">
    <title id="titleRoot">Unnamed Royale Accounts</title>
    <link id="linkStyles" rel="stylesheet" href="styles.css">
</head>
<body id="bodyRoot">
    <div id="bgGrid"></div>

    <main id="landing" role="main" aria-label="Landing page">
        <div id="landingInner">
            <h1 id="landingTitle">Unnamed Royale</h1>
            <div id="landingButtons" role="group" aria-label="Account actions">
                <button id="btnSignup" class="btnPrimary" aria-describedby="landingTag">Sign Up</button>
                <button id="btnLogin" class="btnSecondary" aria-describedby="landingTag">Log In</button>
            </div>
            <p id="landingTag">Fast. Clean. Futuristic.</p>
        </div>
    </main>

    <section id="mainMenu" aria-hidden="true" role="main" aria-label="Main menu">
        <header id="topBar" role="banner">
            <!-- Added topLeftActions container with clean SVG icons -->
            <div id="topLeftActions">
                <button id="btnSettings" class="iconBtn" aria-label="Settings">
                    <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="3"/>
                        <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1"/>
                    </svg>
                </button>
                <a id="btnDiscord" class="iconBtn" href="#" aria-label="Join Discord">
                    <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
                        <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/>
                    </svg>
                </a>
                <button id="btnChangelog" class="iconBtn" aria-label="Changelog">
                    <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                        <polyline points="14,2 14,8 20,8"/>
                        <line x1="16" y1="13" x2="8" y2="13"/>
                        <line x1="16" y1="17" x2="8" y2="17"/>
                        <polyline points="10,9 9,9 8,9"/>
                    </svg>
                </button>
            </div>
            <div id="brandMini" aria-label="Unnamed Royale">UR</div>
            <button id="btnBattle" class="btnBattle" aria-describedby="tankLabel">Battle</button>
            <div id="userBadge" aria-live="polite" aria-label="Current user"></div>
        </header>

        <div id="mainContent">
            <aside id="accountPanel" role="complementary" aria-label="Account information">
                <div id="accountCard">
                    <h2 id="accountTitle">Account</h2>
                    <div id="accountRow">
                        <span id="accountLabel">Logged in as</span>
                        <span id="accountName" aria-live="polite"></span>
                    </div>
                    <div id="accountActions" role="group" aria-label="Account actions">
                        <button id="btnRefresh" class="btnTertiary" aria-label="Refresh account data">Refresh</button>
                        <button id="btnLogout" class="btnGhost" aria-label="Log out of account">Log Out</button>
                    </div>
                    <div id="accountStats" role="region" aria-label="Game statistics">
                        <div id="statRow1"><span id="statLabel1">Wins</span><span id="statVal1" aria-live="polite">0</span></div>
                        <div id="statRow2"><span id="statLabel2">Losses</span><span id="statVal2" aria-live="polite">0</span></div>
                        <div id="statRow3"><span id="statLabel3">Prisms</span><span id="statVal3" aria-live="polite">0</span></div>
                    </div>
                </div>
            </aside>

            <!-- centered tank picker; arrows docked to the sides -->
            <section id="selectorWrap" role="region" aria-label="Tank selection">
                <div id="tankCard" role="group" aria-label="Tank selector">
                    <button id="prevTank" class="navArrow" aria-label="Previous tank" tabindex="0">
                        <svg id="svgPrev" viewBox="0 0 24 24" width="28" height="28" aria-hidden="true" focusable="false">
                            <path id="svgPrevPath" d="M15.5 4.5L7.5 12l8 7.5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                    </button>

                    <div id="tankSilhouette" aria-hidden="true"></div>
                    <div id="questionMark" aria-hidden="true">?</div>
                    <div id="tankLabel" aria-live="polite" aria-atomic="true">Select your tank</div>

                    <button id="nextTank" class="navArrow" aria-label="Next tank" tabindex="0">
                        <svg id="svgNext" viewBox="0 0 24 24" width="28" height="28" aria-hidden="true" focusable="false">
                            <path id="svgNextPath" d="M8.5 4.5L16.5 12l-8 7.5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                    </button>
                </div>
            </section>
        </div>
    </section>

    <div id="overlay" aria-hidden="true"></div>

    <!-- LOGIN -->
    <dialog id="modalLogin" role="dialog" aria-labelledby="loginTitle" aria-modal="true">
        <div id="modalLoginInner">
            <h2 id="loginTitle">Log In</h2>
            <form id="loginForm" autocomplete="off" novalidate>
                <div id="loginRowUser" class="fieldRow">
                    <label id="loginLabelUser" for="loginUsername">Username</label>
                    <input id="loginUsername" type="text" maxlength="20" required 
                           aria-describedby="loginError" autocomplete="username">
                </div>
                <div id="loginRowPass" class="fieldRow">
                    <label id="loginLabelPass" for="loginPassword">Password</label>
                    <input id="loginPassword" type="password" minlength="6" required 
                           aria-describedby="loginError" autocomplete="current-password">
                </div>
                <div id="loginRowRemember" class="rememberRow">
                    <input id="loginRemember" type="checkbox" checked>
                    <label id="loginLabelRemember" for="loginRemember">Remember me on this device</label>
                </div>
                <div id="loginActions" class="modalActions" role="group" aria-label="Login actions">
                    <button id="loginSubmit" class="btnPrimary" type="submit">Enter</button>
                    <button id="loginCancel" class="btnGhost" type="button" aria-label="Cancel login">Cancel</button>
                </div>
                <div id="loginError" class="formError" role="alert" aria-live="polite"></div>
            </form>
        </div>
    </dialog>

    <!-- SIGNUP -->
    <dialog id="modalSignup" role="dialog" aria-labelledby="signupTitle" aria-modal="true">
        <div id="modalSignupInner">
            <h2 id="signupTitle">Create Account</h2>
            <form id="signupForm" autocomplete="off" novalidate>
                <div id="signupRowUser" class="fieldRow">
                    <label id="signupLabelUser" for="signupUsername">Username</label>
                    <input id="signupUsername" type="text" maxlength="20" required 
                           aria-describedby="signupError" autocomplete="username">
                </div>
                <div id="signupRowPass" class="fieldRow">
                    <label id="signupLabelPass" for="signupPassword">Password</label>
                    <input id="signupPassword" type="password" minlength="6" required 
                           aria-describedby="signupError" autocomplete="new-password">
                </div>
                <div id="signupRowPass2" class="fieldRow">
                    <label id="signupLabelPass2" for="signupConfirm">Confirm Password</label>
                    <input id="signupConfirm" type="password" minlength="6" required 
                           aria-describedby="signupError" autocomplete="new-password">
                </div>
                <div id="signupActions" class="modalActions" role="group" aria-label="Signup actions">
                    <button id="signupSubmit" class="btnPrimary" type="submit">Create</button>
                    <button id="signupCancel" class="btnGhost" type="button" aria-label="Cancel signup">Cancel</button>
                </div>
                <div id="signupError" class="formError" role="alert" aria-live="polite"></div>
            </form>
        </div>
    </dialog>

    <script id="scriptMain" src="mainmenu.js"></script>

    <div id="notifyStack" aria-live="polite"></div>

    <!-- Queue Screen -->
    <section id="queueScreen" hidden role="main" aria-label="Matchmaking queue">
        <div id="queueInner">
            <h2 id="queueTitle">Matchmaking</h2>
            <p id="queueInfo" aria-live="polite"><span id="queueCountNum">0</span> in queue</p>
            <button id="btnQueueCancel" class="btnGhost" aria-label="Cancel matchmaking">Cancel</button>
        </div>
    </section>

    <!-- Game View -->
    <section id="gameView" hidden role="main" aria-label="Game arena">
        <canvas id="gameCanvas" width="1200" height="800" aria-label="Game battlefield" role="img"></canvas>
        <button id="btnExitGame" class="btnGhost" aria-label="Exit current game">Exit</button>
    </section>

    <script id="scriptClient" src="client.js"></script>
</body>
</html>
